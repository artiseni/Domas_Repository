"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.importFiles = void 0;
const tslib_1 = require("tslib");
const globby_1 = tslib_1.__importDefault(require("globby"));
const cleanGlobPatterns_1 = require("./cleanGlobPatterns");
async function importFiles(patterns, exclude) {
    const files = await globby_1.default(cleanGlobPatterns_1.cleanGlobPatterns(patterns, exclude));
    const symbols = [];
    for (const file of files) {
        if (!file.endsWith(".d.ts")) {
            // prevent .d.ts import if the global pattern isn't correctly configured
            try {
                const exports = await Promise.resolve().then(() => tslib_1.__importStar(require(file)));
                Object.keys(exports).forEach((key) => symbols.push(exports[key]));
            }
            catch (er) {
                // istanbul ignore next
                console.error(er);
                // istanbul ignore next
                process.exit(1);
            }
        }
    }
    return symbols;
}
exports.importFiles = importFiles;
//# sourceMappingURL=importFiles.js.map