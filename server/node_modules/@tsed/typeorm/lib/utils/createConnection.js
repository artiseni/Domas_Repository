"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createConnection = void 0;
const core_1 = require("@tsed/core");
const typeorm_1 = require("typeorm");
async function createConnection(connectionOptions) {
    const connectionManager = typeorm_1.getConnectionManager();
    const name = core_1.getValue(connectionOptions, "name", "default");
    if (!connectionManager.has(name)) {
        const connection = connectionManager.create(connectionOptions);
        await connection.connect();
    }
    const connection = connectionManager.get(name);
    return connection;
}
exports.createConnection = createConnection;
//# sourceMappingURL=createConnection.js.map